.phoneTrack {
  width: 100vw;
  margin-left: calc(50% - 50vw);
  margin-right: calc(50% - 50vw);
  height: 700vh;
  position: relative;
}

.phoneStickyParent {
  position: sticky;
  top: 0;
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  width: min(1400px, 94vw);
  margin: 0 auto;
  will-change: opacity; /* no translate, just fade */
}

.iphoneWrapper {
  width: 100%;
  max-width: 1400px;
  display: flex;
  justify-content: center;
  align-items: center;
  pointer-events: none;
  z-index: 1;
  position: relative;
  margin: 0 auto;
}

.phonePng { position: relative; pointer-events: auto; width: clamp(180px, 16vw, 340px); max-width: 340px; }
.phoneImg { display: block; width: 100%; height: auto; position: relative; z-index: 1; pointer-events: none; }
.phoneScreenOverlay { position: absolute; inset: 1.2% 3.7% 1.35% 3.7%; border-radius: 35px; overflow: hidden; background: #000; pointer-events: auto; z-index: 0; }
.phoneSlide { position: absolute; inset: 0; opacity: 0; transition: opacity 360ms ease; }
.phoneSlide.active { opacity: 1; }
.slideImage { width: 100%; height: 100%; object-fit: cover; display: block; }

.portfolioBtn { position: absolute; top: calc(100% + 56px); left: 50%; transform: translateX(-50%); background: #000; color: #fff; text-decoration: none; padding: 0.75rem 1.25rem; border-radius: 9999px; font-weight: 600; box-shadow: 0 10px 30px rgba(0,0,0,.25); pointer-events: auto; transition: opacity 360ms ease, transform .2s ease, box-shadow .2s ease, background .2s ease; border: none; cursor: pointer; }
.portfolioBtn:hover { transform: translateX(-50%) translateY(-1px); box-shadow: 0 14px 38px rgba(0,0,0,.3); background: #111; }

.iphoneGlow {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: min(60vw, 900px);
  height: min(60vh, 700px);
  border-radius: 50%;
  filter: blur(120px);
  opacity: 0.8;
  z-index: 0;
  pointer-events: none;
  will-change: opacity;
}

/* Square image that appears on screen 1 to the right of the phone */
.sideImage {
  position: absolute;
  /* Anchor next to the iPhone's right bezel using the same phone width clamp */
  left: calc(50% + (clamp(180px, 16vw, 340px) / 2) - 24px);
  top: 58%;
  transform: translateY(-50%);
  width: clamp(72px, 10vw, 140px);
  aspect-ratio: 1 / 1;
  object-fit: cover;
  border-radius: 16px;
  box-shadow: 0 14px 38px rgba(0,0,0,0.18);
  pointer-events: none;
  will-change: transform;
  z-index: 2;
}

/* Left-side square image, hugging the iPhone's left bezel */
.sideImageLeft {
  position: absolute;
  right: calc(50% + (clamp(180px, 16vw, 340px) / 2) - 30px);
  top: 30%;
  transform: translateY(-50%);
  width: clamp(88px, 12vw, 160px);
  aspect-ratio: 1 / 1;
  object-fit: cover;
  border-radius: 16px;
  box-shadow: 0 14px 38px rgba(0,0,0,0.18);
  pointer-events: none;
  will-change: transform;
  z-index: 2;
}

/* Screen 2 squares */
.sideImage2A {
  position: absolute;
  /* upper-right area near phone */
  left: calc(50% + (clamp(180px, 16vw, 340px) / 2) + 12px);
  top: 36%;
  transform: translateY(-50%);
  width: clamp(80px, 11vw, 150px);
  aspect-ratio: 1 / 1;
  object-fit: cover;
  border-radius: 14px;
  box-shadow: 0 12px 32px rgba(0,0,0,0.16);
  pointer-events: none;
  will-change: transform;
  z-index: 2;
}

.sideImage2B {
  position: absolute;
  /* lower-left area near phone */
  right: calc(50% + (clamp(180px, 16vw, 340px) / 2) + 8px);
  top: 80%;
  transform: translateY(-50%);
  width: clamp(64px, 9vw, 120px);
  aspect-ratio: 1 / 1;
  object-fit: cover;
  border-radius: 12px;
  box-shadow: 0 10px 28px rgba(0,0,0,0.16);
  pointer-events: none;
  will-change: transform;
  z-index: 2;
}

.phoneCopyWrapper {
  position: absolute;
  left: max(3vw, 40px);
  top: 50%;
  transform: translateY(-50%);
  width: min(30rem, 34vw);
  color: #0f172a;
  pointer-events: none;
  transition: opacity 360ms ease;
}
:global(.dark-theme) .phoneCopyWrapper { color: #e5e7eb; }

.phoneCopyCard { position: absolute; inset: 0 auto auto 0; opacity: 0; transform: translateY(24px); transition: opacity 360ms ease, transform 360ms ease; }
.phoneCopyCard.active { opacity: 1; transform: translateY(0); }
.phoneCopyTitle { font-size: clamp(1.05rem, 1.8vw, 1.45rem); font-weight: 700; letter-spacing: -0.01em; margin-bottom: 0.5rem; }
.phoneCopyDesc { font-size: clamp(0.85rem, 1.1vw, 1rem); line-height: 1.6; opacity: 0.85; }
.phoneCopyLabel { font-size: clamp(0.8rem, 1vw, 0.95rem); opacity: 0.7; letter-spacing: 0.02em; margin-bottom: 0.25rem; }

.timelineWrapper { position: absolute; top: clamp(20px, 6vh, 80px); left: 50%; transform: translateX(-50%); width: min(900px, 80vw); pointer-events: none; }
.timeline { display: flex; align-items: center; gap: 10px; }
.timelineStep { display: flex; align-items: center; gap: 10px; flex: 1 1 0; }
.timelineDot { width: 10px; height: 10px; border-radius: 50%; background: #111111; box-shadow: 0 0 0 2px rgba(0,0,0,0.08); }
.timelineDot.active { background: #000000; }
.timelineLine { position: relative; height: 3px; background: rgba(0,0,0,0.12); border-radius: 2px; flex: 1 1 0; overflow: hidden; }
.timelineLineFill { position: absolute; top: 0; left: 0; height: 100%; width: 0%; background: #000000; transition: none; will-change: width; transform: translateZ(0); }

/* Dark theme: make timeline white */
:global(.dark-theme) .timelineDot { background: #ffffff; box-shadow: 0 0 0 2px rgba(255,255,255,0.15); }
:global(.dark-theme) .timelineDot.active { background: #ffffff; }
:global(.dark-theme) .timelineLine { background: rgba(255,255,255,0.25); }
:global(.dark-theme) .timelineLineFill { background: #ffffff; }

/* Generic square image styling */
.sideSquare {
  width: 100%;
  height: auto;
  aspect-ratio: 1 / 1;
  object-fit: cover;
  border-radius: 16px;
  box-shadow: 0 14px 38px rgba(0,0,0,0.18);
  pointer-events: none;
}

/* Wrappers positioned relative to phone; animated via framer-motion */
.sideWrapRight {
  position: absolute;
  left: calc(50% + (clamp(180px, 16vw, 340px) / 2) - 24px);
  top: 58%;
  width: clamp(72px, 10vw, 140px);
  z-index: 2;
  will-change: transform;
}

.sideWrapLeft {
  position: absolute;
  right: calc(50% + (clamp(180px, 16vw, 340px) / 2) - 30px);
  top: 30%;
  width: clamp(88px, 12vw, 160px);
  z-index: 2;
  will-change: transform;
}

.sideWrap2A {
  position: absolute;
  left: calc(50% + (clamp(180px, 16vw, 340px) / 2) + 12px);
  top: 36%;
  width: clamp(80px, 11vw, 150px);
  z-index: 2;
  will-change: transform;
}

.sideWrap2B {
  position: absolute;
  right: calc(50% + (clamp(180px, 16vw, 340px) / 2) + 8px);
  top: 80%;
  width: clamp(64px, 9vw, 120px);
  z-index: 2;
  will-change: transform;
}

/* Screen 3 wrappers */
.sideWrap3A {
  position: absolute;
  left: calc(50% + (clamp(180px, 16vw, 340px) / 2) + 24px);
  top: 42%;
  width: clamp(84px, 11vw, 140px);
  z-index: 2;
  will-change: transform;
}
.sideWrap3B {
  position: absolute;
  right: calc(50% + (clamp(180px, 16vw, 340px) / 2) + 16px);
  top: 68%;
  width: clamp(72px, 10vw, 130px);
  z-index: 2;
  will-change: transform;
}

/* Screen 4 wrappers */
.sideWrap4A {
  position: absolute;
  right: calc(50% + (clamp(180px, 16vw, 340px) / 2) - 16px);
  top: 28%;
  width: clamp(78px, 10vw, 130px);
  z-index: 2;
  will-change: transform;
}
.sideWrap4B {
  position: absolute;
  left: calc(50% + (clamp(180px, 16vw, 340px) / 2) + 18px);
  top: 74%;
  width: clamp(66px, 9vw, 120px);
  z-index: 2;
  will-change: transform;
}

/* Screen 5 wrappers */
.sideWrap5A {
  position: absolute;
  left: calc(50% + (clamp(180px, 16vw, 340px) / 2) + 10px);
  top: 34%;
  width: clamp(70px, 10vw, 128px);
  z-index: 2;
  will-change: transform;
}
.sideWrap5B {
  position: absolute;
  right: calc(50% + (clamp(180px, 16vw, 340px) / 2) + 22px);
  top: 78%;
  width: clamp(60px, 8.5vw, 110px);
  z-index: 2;
  will-change: transform;
}

/* Screen 6 wrappers */
.sideWrap6A {
  position: absolute;
  right: calc(50% + (clamp(180px, 16vw, 340px) / 2) - 8px);
  top: 38%;
  width: clamp(76px, 10.5vw, 136px);
  z-index: 2;
  will-change: transform;
}
.sideWrap6B {
  position: absolute;
  left: calc(50% + (clamp(180px, 16vw, 340px) / 2) + 28px);
  top: 70%;
  width: clamp(62px, 9vw, 116px);
  z-index: 2;
  will-change: transform;
}


